C51 COMPILER V9.60.7.0   SPEECH_PROCESS                                                    02/17/2025 17:51:45 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE SPEECH_PROCESS
OBJECT MODULE PLACED IN .\Release\Objects\speech_process.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ..\..\App\speech_process.c OPTIMIZE(8,SIZE) BROWSE INTVECTOR(0X8000) INC
                    -DIR(..\..\Libraries\Include;..\..\User;..\..\Hardware;..\..\App) INTERVAL(3) DEBUG OBJECTEXTEND PRINT(.\Release\Listings
                    -\speech_process.lst) OBJECT(.\Release\Objects\speech_process.obj)

line level    source

   1          #include "speech_process.h"
*** WARNING C322 IN LINE 71 OF \BaiduSyncdisk\A_WorkSt\Aworkst\2025-01-22-project250122-ËÕĞÀ-°´Ä¦ÒÇÓïÒô¿î-SX384\code\pro
             -ject-250122-TX8C1011\Libraries\Include\debug.h: unknown identifier
   2          
   3          extern volatile bit flag_is_recv_ctl; // æ ‡å¿—ä½ï¼Œæ˜¯å¦æ¥æ”¶äº†æ§åˆ¶å‘½ä»¤
   4          
   5          extern volatile bit flag_tim_set_bat_is_low; // ç”±å®šæ—¶å™¨ç½®ä½/å¤ä½çš„ï¼Œè¡¨ç¤ºåœ¨å·¥ä½œæ—¶ï¼Œç”µæ± 
             -æ˜¯å¦å¤„äºä½ç”µé‡çš„æ ‡å¿—ä½
   6          extern volatile bit flag_ctl_led_blink;      // æ§åˆ¶æ ‡å¿—ä½ï¼Œæ˜¯å¦æ§åˆ¶æŒ‡ç¤ºç¯é—ªçƒ
   7          extern volatile bit flag_ctl_turn_dir;       // æ§åˆ¶æ ‡å¿—ä½ï¼Œæ˜¯å¦æ›´æ¢ç”µæœºçš„æ–¹å‘
   8          
   9          extern volatile bit flag_ctl_dev_close; // æ§åˆ¶æ ‡å¿—ä½ï¼Œæ˜¯å¦è¦å…³é—­è®¾å¤‡
  10          
  11          /*
  12              æ ‡å¿—ä½ï¼Œæ˜¯å¦é€šè¿‡è¯­éŸ³æ¥åˆ‡æ¢æ–¹å‘.
  13              ç”¨åœ¨å®šæ—¶å™¨ä¸­æ–­ä¸­ï¼Œåˆ¤æ–­è‡ªåŠ¨æ¢æ–¹å‘ï¼Œå¦‚æœè¿™ä¸ªæ ‡å¿—ä½ç½®ä¸€ï¼Œ
  14              ä¼šæ¸…é™¤å½“å‰è‡ªåŠ¨æ¢æ–¹å‘çš„è®¡æ—¶ï¼Œé‡æ–°å¼€å§‹è‡ªåŠ¨æ¢æ–¹å‘çš„è®¡æ—¶
  15          */
  16          extern volatile bit flag_is_turn_dir_by_speech;
  17          
  18          /*
  19              æ ‡å¿—ä½ï¼Œæ˜¯å¦æ¥æ”¶åˆ°äº†æ–°çš„è¯­éŸ³ä¿¡æ¯/æœ‰æ–°çš„æŒ‰é”®æ“ä½œ
  20              ç”¨åœ¨å®šæ—¶å™¨ä¸­æ–­ï¼Œåœ¨é€šè¿‡è¯­éŸ³å…³é—­è®¾å¤‡åï¼Œä¸€æ®µæ—¶é—´æ— æ“ä½œè€Œå½»åº•å…³æœº
  21              å¦‚æœè¿™ä¸ªæ ‡å¿—ä½ç½®ä¸€ï¼Œåœ¨å®šæ—¶å™¨å†…ä¼šæ¸…é™¤è‡ªåŠ¨å½»åº•å…³æœºçš„å€’è®¡æ—¶ï¼Œ
  22              å®šæ—¶å™¨åœ¨æ¸…é™¤è®¡æ—¶åï¼Œä¼šç»™è¿™ä¸ªæ ‡å¿—ä½æ¸…é›¶
  23          */
  24          extern volatile bit flag_is_new_operation;
  25          
  26          extern void fun_ctl_motor_status(u8 adjust_motor_status);
  27          extern void fun_ctl_heat_status(u8 adjust_heat_status);
  28          
  29          // åˆå§‹åŒ–æ§åˆ¶è¯­éŸ³ICç”µæºçš„å¼•è„š
  30          void speech_ctl_pin_config(void)
  31          {
  32   1      }
  33          
  34          void speech_scan_process(void)
  35          {
  36   1          if (flag_is_recv_ctl)
  37   1          {
  38   2              // å¦‚æœæ¥æ”¶åˆ°äº†æ­£ç¡®çš„æ§åˆ¶å‘½ä»¤
  39   2              volatile u8 cmd = 0;
  40   2              flag_is_recv_ctl = 0;
  41   2              cmd = recv_ctl; // ä»ç¼“å†²åŒºå–å‡ºæ§åˆ¶å‘½å
  42   2      
  43   2              // è¡¨ç¤ºæœ‰æ–°çš„æ§åˆ¶å‘½ä»¤ï¼Œæ¸…é™¤åœ¨å…³é—­æŒ‰æ‘©æŒ‡ä»¤åï¼Œæ— æ“ä½œè‡ªåŠ¨å…³æœºçš„å€’è®¡æ—
             -¶
  44   2              flag_is_new_operation = 1;
  45   2      
  46   2              // æ ¹æ®å½“å‰è®¾å¤‡çš„æƒ…å†µï¼Œå¯¹æŒ‡ä»¤è¿›è¡Œå¤„ç†
  47   2              switch (cmd)
  48   2              {
  49   3              case CMD_OPEN_DEV: // æ‰“å¼€æŒ‰æ‘©/æŒ‰æ‘©æ•/æŒ‰æ‘©å™¨
C51 COMPILER V9.60.7.0   SPEECH_PROCESS                                                    02/17/2025 17:51:45 PAGE 2   

  50   3      
  51   3                  // å¦‚æœå½“å‰ç”µæœºæ˜¯å…³é—­çš„ï¼Œæ‰å¯¹ å¼€æœºæ§åˆ¶å‘½ä»¤è¿›è¡Œå¤„ç†
  52   3                  if (0 == cur_motor_status)
  53   3                  {
  54   4                      alter_motor_speed(2); // å¼€æœºåï¼Œç”µæœºè¿›å…¥äºŒæ¡£
  55   4                      motor_pwm_b_enable(); // ç”µæœºæ­£å‘è½¬åŠ¨
  56   4      
  57   4                      cur_motor_dir = 1;    // è¡¨ç¤ºå½“å‰ç”µæœºåœ¨æ­£è½¬
  58   4                      cur_motor_status = 2; // æ›´æ–°ç”µæœºæŒ¡ä½çŠ¶æ€
  59   4      
  60   4                      // å¦‚æœä¸å¤„äºä½ç”µé‡æŠ¥è­¦çŠ¶æ€ï¼Œæ‰ä½¿èƒ½LEDé—ªçƒåŠŸèƒ½ï¼š
  61   4                      if (0 == flag_tim_set_bat_is_low)
  62   4                      {
  63   5                          if (0 == cur_ctl_heat_status)
  64   5                          {
  65   6                              // å¦‚æœæ²¡æœ‰æ‰“å¼€åŠ çƒ­ï¼Œè®©ç»¿ç¯é—ªçƒ
  66   6                              LED_RED_OFF();
  67   6                              LED_GREEN_ON();
  68   6                              cur_sel_led = CUR_SEL_LED_GREEN;
  69   6                          }
  70   5                          else
  71   5                          {
  72   6                              // å¦‚æœæ‰“å¼€äº†åŠ çƒ­ï¼Œè®©çº¢ç¯é—ªçƒ
  73   6                              LED_GREEN_OFF();
  74   6                              LED_RED_ON();
  75   6                              cur_sel_led = CUR_SEL_LED_RED;
  76   6                          }
  77   5      
  78   5                          cur_ctl_led_blink_cnt = cur_motor_status; // ledé—ªçƒæ¬¡æ•°ä¸å½“å‰ç”µæœºçš„æŒ¡ä½æœ
             -‰å…³
  79   5                          flag_ctl_led_blink = 1;                   // æ‰“å¼€LEDé—ªçƒçš„åŠŸèƒ½
  80   5                      }
  81   4                  }
  82   3                  else
  83   3                  {
  84   4                      // ç”µæœºæ­£åœ¨è¿è¡Œï¼Œä¸åšå¤„ç†
  85   4                  }
  86   3      
  87   3                  break;
  88   3      
  89   3              case CMD_CLOSE_DEV: // å…³é—­æŒ‰æ‘©/æŒ‰æ‘©æ•/æŒ‰æ‘©å™¨
  90   3      
  91   3                  flag_ctl_dev_close = 1;
  92   3      
  93   3                  break;
  94   3      
  95   3              case CMD_OPEN_HEAT: // æ‰“å¼€åŠ çƒ­
  96   3      
  97   3                  if (0 == cur_ctl_heat_status)
  98   3                  {
  99   4                      // å¦‚æœåŠ çƒ­æ²¡æœ‰å¼€å¯
 100   4                      // å‚æ•°å¡«0ï¼Œæ ¹æ®å…¨å±€å˜é‡ cur_ctl_heat_status çš„çŠ¶æ€æ¥è‡ªåŠ¨è°ƒèŠ‚
 101   4                      fun_ctl_heat_status(0);
 102   4                  }
 103   3      
 104   3                  break;
 105   3      
 106   3              case CMD_CLOSE_HEAT: // å…³é—­åŠ çƒ­
 107   3      
 108   3                  if (0 != cur_ctl_heat_status)
 109   3                  {
 110   4                      // å¦‚æœåŠ çƒ­å·²ç»å¼€å¯
C51 COMPILER V9.60.7.0   SPEECH_PROCESS                                                    02/17/2025 17:51:45 PAGE 3   

 111   4                      flag_ctl_led_blink = 0; // æ‰“æ–­å½“å‰æ­£åœ¨é—ªçƒçš„åŠŸèƒ½
 112   4                      delay_ms(1); // ç­‰å¾…å®šæ—¶å™¨ä¸­æ–­å†…éƒ¨æ¸…ç©ºé—ªçƒåŠŸèƒ½å¯¹åº”çš„æ ‡å¿—å’Œå˜é‡
 113   4                      fun_ctl_close_heat();
 114   4                  }
 115   3      
 116   3                  break;
 117   3      
 118   3              case CMD_CHANGE_DIR: // æ¢ä¸ªæ–¹å‘
 119   3      
 120   3                  if (0 != cur_motor_status)
 121   3                  {
 122   4                      // æ ‡å¿—ä½ç½®ä¸€ï¼Œè®©æ¢æ–¹å‘çš„æ“ä½œåœ¨ä¸»å‡½æ•°æ‰§è¡Œï¼Œå› ä¸ºæ¢æ–¹å‘è¦é—´éš”500
             -ms
 123   4                      flag_ctl_turn_dir = 1;
 124   4      
 125   4                      // ç»™å¦å¤–ä¸€ä¸ªæ ‡å¿—ä½ç½®ä¸€ï¼Œè®©å®šæ—¶å™¨æ¸…é™¤è‡ªåŠ¨æ¢æ–¹å‘çš„è®¡æ—¶
 126   4                      flag_is_turn_dir_by_speech = 1;
 127   4                  }
 128   3      
 129   3                  break;
 130   3      
 131   3              case CMD_INTENSITY_FIRST: // åŠ›åº¦ä¸€æ¡£
 132   3      
 133   3                  if (0 != cur_motor_status)
 134   3                  {
 135   4                      fun_ctl_motor_status(1);
 136   4                  }
 137   3      
 138   3                  break;
 139   3      
 140   3              case CMD_INTENSITY_SECOND: // åŠ›åº¦äºŒæ¡£
 141   3      
 142   3                  if (0 != cur_motor_status)
 143   3                  {
 144   4                      fun_ctl_motor_status(2);
 145   4                  }
 146   3      
 147   3                  break;
 148   3      
 149   3              case CMD_INTENSITY_THIRD: // åŠ›åº¦ä¸‰æ¡£
 150   3      
 151   3                  if (0 != cur_motor_status)
 152   3                  {
 153   4                      fun_ctl_motor_status(3);
 154   4                  }
 155   3      
 156   3                  break;
 157   3      
 158   3              case CMD_HEAT_FIRST: // åŠ çƒ­ä¸€æ¡£
 159   3      
 160   3                  if (0 != cur_ctl_heat_status)
 161   3                  {
 162   4                      fun_ctl_heat_status(1);
 163   4                  }
 164   3      
 165   3                  break;
 166   3      
 167   3              case CMD_HEAT_SECOND: // åŠ çƒ­äºŒæ¡£
 168   3      
 169   3                  if (0 != cur_ctl_heat_status)
 170   3                  {
 171   4                      fun_ctl_heat_status(2);
C51 COMPILER V9.60.7.0   SPEECH_PROCESS                                                    02/17/2025 17:51:45 PAGE 4   

 172   4                  }
 173   3      
 174   3                  break;
 175   3              }
 176   2          }
 177   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    181    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
